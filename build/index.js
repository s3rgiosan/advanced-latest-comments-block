(()=>{"use strict";const e=window.React,t=window.wp.hooks,l=window.wp.blockEditor,n=window.wp.components,o=window.wp.coreData,a=window.wp.data,s=window.wp.element,r=window.wp.i18n;(0,t.addFilter)("blocks.registerBlockType","latestCommentsExtended/addAttributes",((e,t)=>"core/latest-comments"!==t?e:{...e,attributes:{...e.attributes,postType:{type:"string",default:""}}})),(0,t.addFilter)("editor.BlockEdit","latestCommentsExtended/addInspectorControls",(t=>i=>{const{name:m,attributes:c,setAttributes:p}=i,{postType:d}=c;if("core/latest-comments"!==m)return(0,e.createElement)(t,{...i});const u=(0,a.useSelect)((e=>{const{getPostTypes:t}=e(o.store),l=["attachment"],n=t({per_page:-1})?.filter((({viewable:e,slug:t})=>e&&!l.includes(t)));return n}),[]),_=(0,s.useMemo)((()=>[{label:(0,r.__)("All","latest-comments-extended"),value:""},...(u||[]).map((({labels:e,slug:t})=>({label:e.singular_name,value:t})))]),[u]),w=(0,r.__)("Post type"),b=(0,r.__)("Select the content type to filter comments by.","latest-comments-extended"),g=e=>p({postType:e});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,{...i}),(0,e.createElement)(l.InspectorControls,null,(0,e.createElement)(n.__experimentalToolsPanel,{label:(0,r.__)("Filters"),resetAll:()=>{g("")}},(0,e.createElement)(n.__experimentalToolsPanelItem,{hasValue:()=>!!d,label:w,onDeselect:()=>g("")},_.length>2?(0,e.createElement)(n.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,options:_,value:d,label:w,onChange:g,help:b}):(0,e.createElement)(n.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,value:d,label:w,onChange:g,help:b},_.map((t=>(0,e.createElement)(n.__experimentalToggleGroupControlOption,{key:t.value,value:t.value,label:t.label}))))))))}))})();